<!DOCTYPE html> 
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TechJourneyPro - Learning Management System</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "ibd9qa0wxo");
    </script>
</head>
<body>
    <header>
        <nav class="navbar">
            <div class="logo">
                <h1>TechJourneyPro</h1>
            </div>
            <div class="nav-links">
                <a href="#home">Home</a>
                <a href="#courses">Courses</a>
                <a href="#resources">Resources</a>
                <a href="#about">About Us</a>
                <a href="#contact">Contact</a>
            </div>
            <div class="auth-buttons">
                <button class="login-btn" onclick="showLoginModal()">Login</button>
                <button class="signup-btn" onclick="showSignupModal()">Sign Up</button>
            </div>
        </nav>
    </header>

    <main>
        <section id="hero" class="hero-section">
            <div class="hero-content">
                <h1>Welcome to TechJourneyPro</h1>
                <p>Empowering your tech journey with quality education</p>
                <button class="cta-button" onclick="scrollToCourses()">Explore Courses</button>
            </div>
        </section>

        <section id="courses" class="courses-section">
            <h2>Featured Courses</h2>
            <div class="course-grid" id="courseGrid">
                <!-- Course cards will be dynamically loaded from Google Sheets -->
            </div>
        </section>

        <section id="features" class="features-section">
            <h2>Why Choose TechJourneyPro?</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <i class="fas fa-laptop-code"></i>
                    <h3>Interactive Learning</h3>
                    <p>Engage with interactive content and real-world projects</p>
                </div>
                <div class="feature-card">
                    <i class="fas fa-users"></i>
                    <h3>Community Support</h3>
                    <p>Join a community of learners and mentors</p>
                </div>
                <div class="feature-card">
                    <i class="fas fa-certificate"></i>
                    <h3>Certification</h3>
                    <p>Earn certificates upon course completion</p>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer with Quick Links -->
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>About TechJourneyPro</h3>
                <p>Dedicated to providing quality tech education through innovative learning methods</p>
            </div>
            <div class="footer-section">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="#courses">Courses</a></li>
                    <li><a href="#resources">Resources</a></li>
                    <li><a href="#about">About Us</a></li>
                    <li><a href="#contact">Contact</a></li>
                    <!-- Feedback quick link -->
                    <li><a href="javascript:void(0)" onclick="openFeedbackModal()">Feedback</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Connect With Us</h3>
                <div class="social-links">
                    <a href="#"><i class="fab fa-facebook"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-linkedin"></i></a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 TechJourneyPro. All rights reserved.</p>
        </div>
    </footer>

    <!-- Feedback Modal -->
    <div id="feedbackModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeFeedbackModal()">&times;</span>
            <h2>We Value Your Feedback</h2>
            <form id="contactForm">
                <label for="name">Name:</label>
                <input type="text" id="name" name="name" placeholder="Your name" required>
                
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" placeholder="Your email" required>
                
                <label for="phone">Phone Number:</label>
                <input type="tel" id="phone" name="phone" placeholder="Your phone number" required>
                
                <label for="message">Message:</label>
                <textarea id="message" name="message" placeholder="Your message" rows="4" required></textarea>
                
                <button type="submit">Send Message</button>
            </form>
            <div id="response"></div>
        </div>
    </div>

    <script src="js/main.js"></script>
    <script src="js/api.js"></script>

    <script type="text/javascript">
        // Feedback modal logic
        function openFeedbackModal() {
            document.getElementById('feedbackModal').style.display = 'block';
        }

        function closeFeedbackModal() {
            document.getElementById('feedbackModal').style.display = 'none';
        }

        // Capture form submission
        const form = document.getElementById('contactForm');
        const responseDiv = document.getElementById('response');

        form.addEventListener('submit', (e) => {
            e.preventDefault();

            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const phone = document.getElementById('phone').value;
            const message = document.getElementById('message').value;

            // Format data as plain text (key=value&key=value)
            const plainTextData = `name=${encodeURIComponent(name)}&email=${encodeURIComponent(email)}&phone=${encodeURIComponent(phone)}&message=${encodeURIComponent(message)}`;

            // Send POST request to Google Apps Script
            fetch('https://script.google.com/macros/s/AKfycbxMWRWOSxjblQ3lnxMnqFHR1xFktdg3h8sPiN8qGbsj4ZZybscoLDOJoAzZulUkCo0A/exec', {
                method: 'POST',
                headers: {
                    'Content-Type': 'text/plain;charset=utf-8',
                },
                body: plainTextData,
            })
            .then(response => response.text())
            .then(data => {
                responseDiv.textContent = data; // Display the response
                form.reset(); // Clear the form
            })
            .catch(error => {
                responseDiv.textContent = `Error: ${error.message}`;
            });
        });

        // Cal.com floating popup integration
        (function (C, A, L) { 
            let p = function (a, ar) { a.q.push(ar); }; 
            let d = C.document; 
            C.Cal = C.Cal || function () { 
                let cal = C.Cal; 
                let ar = arguments; 
                if (!cal.loaded) { 
                    cal.ns = {}; 
                    cal.q = cal.q || []; 
                    d.head.appendChild(d.createElement("script")).src = A; 
                    cal.loaded = true; 
                } 
                if (ar[0] === L) { 
                    const api = function () { 
                        p(api, arguments); 
                    }; 
                    const namespace = ar[1]; 
                    api.q = api.q || []; 
                    if(typeof namespace === "string"){
                        cal.ns[namespace] = cal.ns[namespace] || api;
                        p(cal.ns[namespace], ar);
                        p(cal, ["initNamespace", namespace]);
                    } else p(cal, ar); 
                    return; 
                } 
                p(cal, ar); 
            }; 
        })(window, "https://app.cal.com/embed/embed.js", "init");

        Cal("init", "30min", {origin:"https://app.cal.com"});
        Cal.ns["30min"]("floatingButton", {"calLink":"techjourney-pro-aviuee/30min","config":{"layout":"month_view"}}); 
        Cal.ns["30min"]("ui", {"hideEventTypeDetails":false,"layout":"month_view"});
    </script>
</body>
</html>
